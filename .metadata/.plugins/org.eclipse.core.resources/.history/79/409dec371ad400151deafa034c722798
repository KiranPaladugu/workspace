/* ********************************************************************************
 * All rights reserved.
 ******************************************************************************* */
package com.tool.ssh;

import javax.swing.JOptionPane;

import com.jcraft.jsch.*;

public class TestSSCH {
    public static void main(String args[]){
        JSch sch = new JSch();
        String userName = "ekirpal";
        String password = "kiran";
        String host = "10.126.139.36";
        int port =22;
        
        try {
            Session session = sch.getSession(userName, host, port);
            session.setPassword(password);;
            session.setUserInfo(new UserInfo() {
                
                public void showMessage(String message) {
                    JOptionPane.showMessageDialog(null, message);
                }

                public boolean promptYesNo(String message) {
                    Object[] options = { "yes", "no" };
                    int foo = JOptionPane.showOptionDialog(null, message, "Warning", JOptionPane.DEFAULT_OPTION,
                            JOptionPane.WARNING_MESSAGE, null, options, options[0]);
                    return foo == 0;
                }
                
                @Override
                public boolean promptPassword(String message) {
                    return true;
                }
                
                @Override
                public boolean promptPassphrase(String message) {
                    return false;
                }
                
                @Override
                public String getPassword() {
                    return null;
                }
                
                @Override
                public String getPassphrase() {
                    // TODO Auto-generated method stub
                    return null;
                }
            });
//            session.setConfig("StrictHostKeyChecking", "no");
            session.connect(30000);            
            Channel channel = session.openChannel("Shell");
            channel.setInputStream(System.in);
            channel.setOutputStream(System.err);            
            channel.connect();
        } catch (JSchException e) {
            e.printStackTrace();
        }
    }
}
